
#include <unistd.h>
#include <err.h>
#include <stdio.h>
#include <stdlib.h>

int main(int argc, char* argv[]){
        if(argc != 2){
                errx(1, "Incorrect number of arguments");
        }

        int pf[2];
        if(pipe(pf) == -1){
                err(2, "Error in pipe");
        }

        int child_pid = fork();

        if( child_pid == 0){
                close(pf[0]);
                dup2(pf[1],1);
                if(execlp("cat","cat", argv[1], (char *)NULL) == -1){
                        err(3, "Error in execlp");
                }
        }

        close(pf[1]);
        dup2(pf[0],0);
        if(execlp("sort", "sort", (char *)NULL) == -1){
                err(4, "Error in execlp");
        }


        exit(0);
}
